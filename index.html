<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Meat Grade Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    /* ====== PAGE RESET & BASE STYLES ====== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #111827;
      /* subtle dark overlay on top of background photo */
      background:
        linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.75)),
        url("images/grill-background.jpg") center/cover no-repeat fixed;
    }

    /* ====== MAIN CARD ====== */
    .app {
      background: rgba(248, 250, 252, 0.96); /* light slate */
      border-radius: 18px;
      padding: 24px 20px;
      width: 95%;
      max-width: 700px;
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.35);
      backdrop-filter: blur(10px);
    }

    header {
      text-align: center;
      margin-bottom: 18px;
    }

    header h1 {
      font-size: 1.75rem;
      letter-spacing: 0.03em;
      margin-bottom: 4px;
    }

    header p {
      font-size: 0.9rem;
      color: #4b5563;
    }

    /* ====== IMAGE AREA ====== */
    .image-wrapper {
      width: 100%;
      border-radius: 14px;
      overflow: hidden;
      margin: 18px 0 14px;
      border: 2px solid #e5e7eb;
      background: #000; /* fallback */
    }

    .image-wrapper img {
      display: block;
      width: 100%;
      height: 260px;
      object-fit: cover;
    }

    /* ====== QUESTION TEXT ====== */
    #question-text {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 10px;
      text-align: center;
      color: #111827;
    }

    /* ====== OPTIONS ====== */
    .options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-bottom: 12px;
    }

    .option-btn {
      border: 1px solid #d1d5db;
      border-radius: 999px;
      padding: 10px 12px;
      font-size: 0.9rem;
      background: #f9fafb;
      cursor: pointer;
      transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.1s;
      text-align: center;
      white-space: nowrap;
    }

    .option-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.18);
      background: #e5f0ff;
    }

    .option-btn:disabled {
      cursor: default;
      opacity: 0.75;
      box-shadow: none;
      transform: none;
    }

    .option-btn.correct {
      background: #22c55e;
      border-color: #16a34a;
      color: white;
    }

    .option-btn.incorrect {
      background: #ef4444;
      border-color: #b91c1c;
      color: white;
    }

    /* ====== FEEDBACK + CONTROLS ====== */
    .feedback {
      min-height: 22px;
      font-size: 0.9rem;
      text-align: center;
      margin-bottom: 10px;
      color: #374151;
      font-weight: 500;
    }

    .controls {
      display: flex;
      justify-content: center;
      margin-bottom: 6px;
    }

    #next-btn {
      border: none;
      border-radius: 999px;
      padding: 9px 18px;
      font-size: 0.9rem;
      font-weight: 500;
      background: #2563eb;
      color: white;
      cursor: pointer;
      transition: background 0.1s, transform 0.08s, box-shadow 0.1s;
    }

    #next-btn:hover:enabled {
      background: #1d4ed8;
      transform: translateY(-1px);
      box-shadow: 0 10px 20px rgba(37, 99, 235, 0.5);
    }

    #next-btn:disabled {
      opacity: 0.55;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    /* ====== SCORE / PROGRESS ====== */
    .score-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.85rem;
      margin-top: 2px;
      color: #4b5563;
    }

    .score-row span {
      font-weight: 600;
    }

    .pill {
      padding: 4px 10px;
      border-radius: 999px;
      background: #e5e7eb;
      font-size: 0.8rem;
    }

    /* ====== MOBILE ADJUSTMENTS ====== */
    @media (max-width: 480px) {
      header h1 {
        font-size: 1.4rem;
      }

      .image-wrapper img {
        height: 220px;
      }

      .options {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <div class="app">
    <header>
      <h1>Meat Grade Quiz</h1>
      <p>Look at the steak and guess its grade. Prime time.</p>
    </header>

    <main>
      <div class="image-wrapper">
        <img id="meat-image" src="" alt="Steak photo" />
      </div>

      <p id="question-text">Which grade of meat is this?</p>

      <div id="options" class="options">
        <!-- buttons inserted by JavaScript -->
      </div>

      <div id="feedback" class="feedback"></div>

      <div class="controls">
        <button id="next-btn" disabled>Next steak →</button>
      </div>

      <div class="score-row">
        <div>
          Score:
          <span id="score">0</span>/<span id="total">0</span>
        </div>
        <div class="pill" id="progress-pill">Question 1</div>
      </div>
    </main>
  </div>

  <script>
    // ========= DATA SETUP =========
    // Replace the image paths with your actual image files.
    // Keep the "grade" field matching EXACTLY one of the options.
    const questions = [
      {
        image: "images/0002492_usda-prime-dry-aged-bone-in-rib-steak.webp",
        grade: "USDA Prime",
        funFact: "Prime has the most marbling. Think juicy, fancy steakhouse vibes."
      },
      {
        image: "images/44-Farms_Flat-Iron-Steak_SH_1_1.webp",
        grade: "USDA Choice",
        funFact: "Choice has good marbling, just a little less than Prime. Still solid for grilling."
      },
      {
        image: "images/thick select ribeye_thumbnail.jpg",
        grade: "USDA Select",
        funFact: "Select is leaner. Easy to dry out if you overcook it."
      },
      {
        image: "images/usda_standard_steak.jpg",
        grade: "USDA Standard",
        funFact: "Standard is often store-brand or ungraded-looking stuff. Not as tender or juicy."
      },
      {
        image: "images/WagyuStripSteak.jpg",
        grade: "Japanese Wagyu",
        funFact: "Wagyu isn’t a USDA grade but is famous for super intense marbling."
      }
    ];

    // Base options shown in the multiple choice (you can edit/expand these)
    const allOptions = [
      "USDA Prime",
      "USDA Choice",
      "USDA Select",
      "USDA Standard",
      "Japanese Wagyu"
    ];

    let remainingQuestions = [];
    let currentQuestion = null;
    let score = 0;
    let questionsSeen = 0;

    // ========= DOM REFERENCES =========
    const meatImage = document.getElementById("meat-image");
    const optionsContainer = document.getElementById("options");
    const feedbackEl = document.getElementById("feedback");
    const scoreEl = document.getElementById("score");
    const totalEl = document.getElementById("total");
    const nextBtn = document.getElementById("next-btn");
    const progressPill = document.getElementById("progress-pill");

    // ========= HELPER FUNCTIONS =========

    function shuffleArray(arr) {
      // Fisher–Yates shuffle
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function pickRandomQuestion() {
      if (remainingQuestions.length === 0) {
        return null;
      }
      const index = Math.floor(Math.random() * remainingQuestions.length);
      const q = remainingQuestions[index];
      remainingQuestions.splice(index, 1); // remove from array
      return q;
    }

    function buildOptions(correctGrade) {
      // Start with the correct answer
      const available = allOptions.filter(opt => opt !== correctGrade);
      const wrongChoices = shuffleArray(available).slice(0, 3);
      const optionList = shuffleArray([correctGrade, ...wrongChoices]);
      return optionList;
    }

    function renderQuestion() {
      currentQuestion = pickRandomQuestion();

      if (!currentQuestion) {
        // No questions left – show summary and reset button
        meatImage.src = "";
        meatImage.alt = "Quiz complete";
        feedbackEl.textContent = `Quiz finished! Final score: ${score}/${questionsSeen}. Click "Next steak" to play again.`;
        optionsContainer.innerHTML = "";
        progressPill.textContent = "Quiz complete";
        nextBtn.disabled = false;
        nextBtn.textContent = "Restart quiz";
        return;
      }

      questionsSeen++;
      meatImage.src = currentQuestion.image;
      meatImage.alt = currentQuestion.grade + " steak";

      feedbackEl.textContent = "";
      nextBtn.disabled = true;
      nextBtn.textContent = "Next steak →";

      progressPill.textContent = `Question ${questionsSeen}`;

      // Build answer buttons
      optionsContainer.innerHTML = "";
      const optionLabels = buildOptions(currentQuestion.grade);
      optionLabels.forEach(label => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.textContent = label;

        btn.addEventListener("click", () => handleAnswer(btn, label));
        optionsContainer.appendChild(btn);
      });

      totalEl.textContent = questions.length;
      scoreEl.textContent = score;
    }

    function handleAnswer(clickedBtn, selectedGrade) {
      const allButtons = document.querySelectorAll(".option-btn");

      // Disable all buttons so you can't change answer
      allButtons.forEach(btn => (btn.disabled = true));

      if (!currentQuestion) return;

      if (selectedGrade === currentQuestion.grade) {
        clickedBtn.classList.add("correct");
        score++;
        feedbackEl.textContent = `Correct: ${currentQuestion.grade}. ${currentQuestion.funFact}`;
      } else {
        clickedBtn.classList.add("incorrect");
        feedbackEl.textContent = `Not quite. It was ${currentQuestion.grade}. ${currentQuestion.funFact}`;

        // Highlight the correct answer
        allButtons.forEach(btn => {
          if (btn.textContent === currentQuestion.grade) {
            btn.classList.add("correct");
          }
        });
      }

      scoreEl.textContent = score;
      nextBtn.disabled = false;
    }

    function resetQuiz() {
      remainingQuestions = [...questions];
      shuffleArray(remainingQuestions);
      score = 0;
      questionsSeen = 0;
      renderQuestion();
    }

    // ========= EVENT LISTENERS =========
    nextBtn.addEventListener("click", () => {
      // If the quiz is done and we pressed "Restart quiz"
      if (remainingQuestions.length === 0 && currentQuestion === null) {
        resetQuiz();
      } else if (remainingQuestions.length === 0 && questionsSeen >= questions.length) {
        // Safety: if finished and currentQuestion != null
        currentQuestion = null;
        resetQuiz();
      } else {
        renderQuestion();
      }
    });

    // ========= INITIAL LOAD =========
    // Start quiz as soon as the page loads
    window.addEventListener("load", () => {
      resetQuiz();
    });
  </script>
</body>
</html>
